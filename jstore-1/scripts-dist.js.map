{"version":3,"sources":["scripts.js"],"names":["mutationNode","document","getElementsByTagName","mutationConfig","attributes","childList","subtree","mutationCallback","mutationsList","observer","mutation","type","initation","MutationObserver","pageBody","featureImageCardSet","featureImageWrapSet","featureImageSet","activeFeatureImage","renderFeatureImage","componentParse","reinit","querySelector","firstChild","querySelectorAll","i","length","push","undefined","footer_links","n","link_text","textContent","includes","setAttribute","replace","classList","contains","body","add","remove","window","onload","observe","hamburger","addEventListener","bodyClass","transformFeatureImage","offsetTop","getBoundingClientRect","top","offsetScreen","innerHeight","progress","wrapTop","style","requestAnimationFrame","trackFeatureImage","nudge","overScreen","offsetHeight","cancelAnimationFrame","searchTrigger","setTimeout","searchModal","searchInput","e","searchKeywords","value","trim","noResult"],"mappings":"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","sourcesContent":["// Mutation object creation\r\nconst mutationNode   = document.getElementsByTagName('TITLE')[0];\r\nconst mutationConfig = { attributes: true, childList: true, subtree: true };\r\n\r\n// Callback function to execute when mutations are observed\r\nconst mutationCallback = function(mutationsList, observer) {\r\n  // Use traditional 'for loops' for IE 11\r\n  for(let mutation of mutationsList) {\r\n    if (mutation.type === 'childList') {\r\n      //console.log('A child node has been added or removed.');\r\n      initation(true);\r\n    }\r\n    else if (mutation.type === 'attributes') {\r\n      //console.log('The ' + mutation.attributeName + ' attribute was modified.');\r\n    }\r\n  }\r\n};\r\n\r\n// Create an observer instance linked to the callback function\r\nconst observer = new MutationObserver(mutationCallback);\r\n\r\n// Dynamic components\r\nlet pageBody = false\r\nlet featureImageCardSet = []\r\nlet featureImageWrapSet = []\r\nlet featureImageSet     = []\r\nlet activeFeatureImage  = []\r\nlet renderFeatureImage  = []\r\n\r\nconst componentParse = (reinit) => {\r\n  // Universal components\r\n  pageBody = document.querySelector(\".default-layout > main.main-content\").firstChild\r\n  featureImageWrapSet = []\r\n  featureImageSet     = []\r\n  activeFeatureImage  = []\r\n  renderFeatureImage  = []\r\n  featureImageCardSet = document.querySelectorAll(\".feature-set-content-wrap .feature-image.grid\")\r\n  for (let i = 0; i < featureImageCardSet.length; i++) {\r\n    // let imageWrap = featureImageCardSet[i].firstChild\r\n    featureImageWrapSet.push(featureImageCardSet[i].firstChild)\r\n    featureImageSet.push(featureImageCardSet[i].firstChild.querySelector('img'))\r\n    activeFeatureImage.push(false)\r\n    renderFeatureImage.push(undefined)\r\n  }\r\n\r\n  let footer_links = document.querySelectorAll('.footer_link a[href*=\"/policies/\"]')\r\n  for (let n = 0; n<footer_links.length; n++) {\r\n    let link_text = footer_links[n].textContent\r\n\r\n    if (link_text.includes(\" policy\")) {\r\n      footer_links[n].setAttribute(\"replace-text\", link_text.replace(\" policy\", \"\"))\r\n    }\r\n  }\r\n  \r\n  if (pageBody.classList.contains(\"product-template\")) {\r\n    if (!document.body.classList.contains(\"product-details-page\")) document.body.classList.add(\"product-details-page\")\r\n  } else {\r\n    if (document.body.classList.contains(\"product-details-page\")) document.body.classList.remove(\"product-details-page\")\r\n  }\r\n}\r\n\r\n// Initation process\r\nconst initation = (reinit=false) => {\r\n  componentParse(reinit)\r\n}\r\n\r\n// Initation on page loaded\r\nwindow.onload = function() {\r\n  initation();\r\n}\r\n\r\n// Begin detect page changes\r\nobserver.observe(mutationNode, mutationConfig);\r\n\r\n// Static components\r\nlet hamburger = document.querySelector(\"header.header-mobile label.mobile-nav\")\r\n\r\nhamburger.addEventListener(\"click\", () => {\r\n  let bodyClass = document.body.classList\r\n  if (bodyClass.contains(\"is-noscroll\")) {\r\n    if (bodyClass.contains(\"nav-active\")) bodyClass.remove(\"nav-active\")\r\n  } else {\r\n    if (!bodyClass.contains(\"nav-active\")) bodyClass.add(\"nav-active\")\r\n  }\r\n})\r\n\r\n// Dynamic methods\r\n\r\nlet transformFeatureImage = (i) => {\r\n  let offsetTop    = featureImageCardSet[i].getBoundingClientRect().top\r\n  let offsetScreen = (offsetTop - window.innerHeight) * -1\r\n\r\n  let progress   = offsetScreen / (window.innerHeight)\r\n  let wrapTop    = featureImageWrapSet[i].offsetTop * -1\r\n  featureImageSet[i].style[\"transform\"] = \"translate(0,\" + (progress * wrapTop) + \"px)\"\r\n  renderFeatureImage[i] = requestAnimationFrame(() => {\r\n    transformFeatureImage(i)\r\n  })\r\n}\r\n\r\nlet trackFeatureImage = () => {\r\n  for (let i = 0; i < featureImageCardSet.length; i++) {\r\n    if (featureImageSet[i]) {\r\n      let offsetScreen = (featureImageCardSet[i].getBoundingClientRect().top - window.innerHeight) * -1\r\n      let nudge        = 200\r\n      let overScreen   = offsetScreen - featureImageCardSet[i].offsetHeight - nudge\r\n\r\n      if (offsetScreen > nudge*-1 && overScreen < window.innerHeight) {\r\n        if (activeFeatureImage[i] == false) {\r\n          activeFeatureImage[i] = true\r\n          renderFeatureImage[i] = requestAnimationFrame(() => {\r\n            transformFeatureImage(i)\r\n          })\r\n        }\r\n      } else {\r\n        if (activeFeatureImage[i] == true) {\r\n          activeFeatureImage[i] = false\r\n          cancelAnimationFrame(renderFeatureImage[i])\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nlet searchTrigger = document.querySelector('header.header-mobile .header-wrap a.search-icon')\r\n\r\nsearchTrigger.addEventListener(\"click\", () => {\r\n  setTimeout( () => {\r\n    let searchModal = document.querySelector('.header-section .search-modal')\r\n    let searchInput = document.querySelector('.header-section .search-modal__header .search-group input')\r\n    if (searchInput) {\r\n      // console.log(searchInput)\r\n      if (searchInput.classList.contains(\"empty\")) {\r\n        if (!searchModal.classList.contains(\"empty_input\")) searchModal.classList.add(\"empty_input\")\r\n      }\r\n      // let searchTimeout = false\r\n      searchInput.addEventListener(\"input\", (e) => {\r\n        let searchKeywords = searchInput.value.trim()\r\n        let noResult       = searchModal.querySelector(\".search-modal__no-result\")\r\n        // clearTimeout(searchTimeout)\r\n        // if (!searchModal.classList.contains(\"inputing\")) searchModal.classList.add(\"inputing\")\r\n        if (noResult) {\r\n          if (!noResult.classList.contains(\"inputing\")) noResult.classList.add(\"inputing\")\r\n        }\r\n        if (searchKeywords.length == 0 || searchKeywords == \"\") {\r\n          if (!searchModal.classList.contains(\"empty_input\")) searchModal.classList.add(\"empty_input\")\r\n        } else {\r\n          if (searchModal.classList.contains(\"empty_input\")) searchModal.classList.remove(\"empty_input\")\r\n        }\r\n        // searchTimeout = setTimeout( () => {\r\n        //   if (searchModal.classList.contains(\"inputing\")) searchModal.classList.remove(\"inputing\")\r\n        // },200)\r\n      })\r\n    }\r\n  },150)\r\n})\r\n\r\ndocument.addEventListener(\"scroll\", () => {\r\n\r\n  trackFeatureImage()\r\n\r\n})"]}