{"version":3,"sources":["scripts.js"],"names":["mutationNode","document","getElementsByTagName","mutationConfig","attributes","childList","subtree","mutationCallback","mutationsList","observer","mutation","type","initation","MutationObserver","featureImageCardSet","featureImageWrapSet","featureImageSet","activeFeatureImage","renderFeatureImage","componentParse","reinit","querySelectorAll","i","length","push","firstChild","querySelector","undefined","window","onload","observe","hamburger","addEventListener","bodyClass","body","classList","contains","remove","add","transformFeatureImage","offsetTop","getBoundingClientRect","top","offsetScreen","innerHeight","progress","wrapTop","style","requestAnimationFrame","trackFeatureImage","nudge","overScreen","offsetHeight","cancelAnimationFrame","searchTrigger","setTimeout","searchModal","searchInput","e","searchKeywords","value","trim","noResult"],"mappings":";;AAAA;;AACA,IAAM,eAAiB,SAAA,AAAS,qBAAT,AAA8B,SAArD,AAAuB,AAAuC;AAC9D,IAAM,iBAAiB,EAAE,YAAF,AAAc,MAAM,WAApB,AAA+B,MAAM,SAA5D,AAAuB,AAA8C;;AAErE;AACA,IAAM,mBAAmB,SAAnB,AAAmB,iBAAA,AAAS,eAAT,AAAwB,UAAU,AACzD;AADyD;kCAAA;0BAAA;uBAAA;;MAEzD;yBAAA,AAAoB,2IAAe;UAA3B,AAA2B,iBACjC;;UAAI,SAAA,AAAS,SAAb,AAAsB,aAAa,AACjC;AACA;kBAAA,AAAU,AACX;AAHD,aAIK,IAAI,SAAA,AAAS,SAAb,AAAsB,cAAc,AACvC;AACD;AACF;AAVwD;gBAAA;wBAAA;qBAAA;YAAA;QAAA;0DAAA;kBAAA;AAAA;cAAA;6BAAA;cAAA;AAAA;AAAA;AAW1D;AAXD;;AAaA;AACA,IAAM,WAAW,IAAA,AAAI,iBAArB,AAAiB,AAAqB;;AAEtC;AACA,IAAI,sBAAJ,AAA0B;AAC1B,IAAI,sBAAJ,AAA0B;AAC1B,IAAI,kBAAJ,AAA0B;AAC1B,IAAI,qBAAJ,AAA0B;AAC1B,IAAI,qBAAJ,AAA0B;;AAE1B,IAAM,iBAAiB,SAAjB,AAAiB,eAAA,AAAC,QAAW,AACjC;AACA;wBAAA,AAAsB,AACtB;oBAAA,AAAsB,AACtB;uBAAA,AAAsB,AACtB;uBAAA,AAAsB,AACtB;wBAAsB,SAAA,AAAS,iBAA/B,AAAsB,AAA0B,AAChD;OAAK,IAAI,IAAT,AAAa,GAAG,IAAI,oBAApB,AAAwC,QAAxC,AAAgD,KAAK,AACnD;AACA;wBAAA,AAAoB,KAAK,oBAAA,AAAoB,GAA7C,AAAgD,AAChD;oBAAA,AAAgB,KAAK,oBAAA,AAAoB,GAApB,AAAuB,WAAvB,AAAkC,cAAvD,AAAqB,AAAgD,AACrE;uBAAA,AAAmB,KAAnB,AAAwB,AACxB;uBAAA,AAAmB,KAAnB,AAAwB,AACzB;AACF;AAdD;;AAgBA;AACA,IAAM,YAAY,SAAZ,AAAY,UAAA,AAAC,QAAW,AAC5B;iBAAA,AAAe,AAChB;AAFD;;AAIA;AACA,OAAA,AAAO,SAAS,YAAW,AACzB;AACD;AAFD;;AAIA;AACA,SAAA,AAAS,QAAT,AAAiB,cAAjB,AAA+B;;AAE/B;AACA,IAAI,YAAY,SAAA,AAAS,cAAzB,AAAgB,AAAuB;;AAEvC,UAAA,AAAU,iBAAV,AAA2B,SAAS,YAAM,AACxC;MAAI,YAAY,SAAA,AAAS,KAAzB,AAA8B,AAC9B;MAAI,UAAA,AAAU,SAAd,AAAI,AAAmB,gBAAgB,AACrC;QAAI,UAAA,AAAU,SAAd,AAAI,AAAmB,eAAe,UAAA,AAAU,OAAV,AAAiB,AACxD;AAFD,SAEO,AACL;QAAI,CAAC,UAAA,AAAU,SAAf,AAAK,AAAmB,eAAe,UAAA,AAAU,IAAV,AAAc,AACtD;AACF;AAPD;;AASA;;AAEA,IAAI,wBAAwB,SAAxB,AAAwB,sBAAA,AAAC,GAAM,AACjC;MAAI,YAAe,oBAAA,AAAoB,GAApB,AAAuB,wBAA1C,AAAkE,AAClE;MAAI,eAAe,CAAC,YAAY,OAAb,AAAoB,eAAe,CAAtD,AAAuD,AAEvD;;MAAI,WAAa,eAAgB,OAAjC,AAAwC,AACxC;MAAI,UAAa,oBAAA,AAAoB,GAApB,AAAuB,YAAY,CAApD,AAAqD,AACrD;kBAAA,AAAgB,GAAhB,AAAmB,MAAnB,AAAyB,eAAe,iBAAkB,WAAlB,AAA6B,UAArE,AAAgF,AAChF;qBAAA,AAAmB,2BAA2B,YAAM,AAClD;0BAAA,AAAsB,AACvB;AAFD,AAAwB,AAGzB,GAHyB;AAP1B;;AAYA,IAAI,oBAAoB,SAApB,AAAoB,oBAAM;6BAAA,AACnB,GACP;QAAI,gBAAJ,AAAI,AAAgB,IAAI,AACtB;UAAI,eAAe,CAAC,oBAAA,AAAoB,GAApB,AAAuB,wBAAvB,AAA+C,MAAM,OAAtD,AAA6D,eAAe,CAA/F,AAAgG,AAChG;UAAI,QAAJ,AAAmB,AACnB;UAAI,aAAe,eAAe,oBAAA,AAAoB,GAAnC,AAAsC,eAAzD,AAAwE,AAExE;;UAAI,eAAe,QAAM,CAArB,AAAsB,KAAK,aAAa,OAA5C,AAAmD,aAAa,AAC9D;YAAI,mBAAA,AAAmB,MAAvB,AAA6B,OAAO,AAClC;6BAAA,AAAmB,KAAnB,AAAwB,AACxB;6BAAA,AAAmB,2BAA2B,YAAM,AAClD;kCAAA,AAAsB,AACvB;AAFD,AAAwB,AAGzB,WAHyB;AAI3B;AAPD,aAOO,AACL;YAAI,mBAAA,AAAmB,MAAvB,AAA6B,MAAM,AACjC;6BAAA,AAAmB,KAAnB,AAAwB,AACxB;+BAAqB,mBAArB,AAAqB,AAAmB,AACzC;AACF;AACF;AApByB;AAC5B;;OAAK,IAAI,IAAT,AAAa,GAAG,IAAI,oBAApB,AAAwC,QAAxC,AAAgD,KAAK;UAA5C,AAA4C,AAoBpD;AACF;AAtBD;;AAwBA,IAAI,gBAAgB,SAAA,AAAS,cAA7B,AAAoB,AAAuB;;AAE3C,cAAA,AAAc,iBAAd,AAA+B,SAAS,YAAM,AAC5C;aAAY,YAAM,AAChB;QAAI,cAAc,SAAA,AAAS,cAA3B,AAAkB,AAAuB,AACzC;QAAI,cAAc,SAAA,AAAS,cAA3B,AAAkB,AAAuB,AACzC;QAAA,AAAI,aAAa,AACf;AACA;UAAI,YAAA,AAAY,UAAZ,AAAsB,SAA1B,AAAI,AAA+B,UAAU,AAC3C;YAAI,CAAC,YAAA,AAAY,UAAZ,AAAsB,SAA3B,AAAK,AAA+B,gBAAgB,YAAA,AAAY,UAAZ,AAAsB,IAAtB,AAA0B,AAC/E;AACD;AACA;kBAAA,AAAY,iBAAZ,AAA6B,SAAS,UAAA,AAAC,GAAM,AAC3C;YAAI,iBAAiB,YAAA,AAAY,MAAjC,AAAqB,AAAkB,AACvC;YAAI,WAAiB,YAAA,AAAY,cAAjC,AAAqB,AAA0B,AAC/C;AACA;AACA;YAAA,AAAI,UAAU,AACZ;cAAI,CAAC,SAAA,AAAS,UAAT,AAAmB,SAAxB,AAAK,AAA4B,aAAa,SAAA,AAAS,UAAT,AAAmB,IAAnB,AAAuB,AACtE;AACD;YAAI,eAAA,AAAe,UAAf,AAAyB,KAAK,kBAAlC,AAAoD,IAAI,AACtD;cAAI,CAAC,YAAA,AAAY,UAAZ,AAAsB,SAA3B,AAAK,AAA+B,gBAAgB,YAAA,AAAY,UAAZ,AAAsB,IAAtB,AAA0B,AAC/E;AAFD,eAEO,AACL;cAAI,YAAA,AAAY,UAAZ,AAAsB,SAA1B,AAAI,AAA+B,gBAAgB,YAAA,AAAY,UAAZ,AAAsB,OAAtB,AAA6B,AACjF;AACD;AACA;AACA;AACD;AAhBD,AAiBD;AACF;AA3BD,KAAA,AA2BE,AACH;AA7BD;;AA+BA,SAAA,AAAS,iBAAT,AAA0B,UAAU,YAAM,AAExC;;AAED;AAJD","sourcesContent":["// Mutation object creation\nconst mutationNode   = document.getElementsByTagName('TITLE')[0];\nconst mutationConfig = { attributes: true, childList: true, subtree: true };\n\n// Callback function to execute when mutations are observed\nconst mutationCallback = function(mutationsList, observer) {\n  // Use traditional 'for loops' for IE 11\n  for(let mutation of mutationsList) {\n    if (mutation.type === 'childList') {\n      //console.log('A child node has been added or removed.');\n      initation(true);\n    }\n    else if (mutation.type === 'attributes') {\n      //console.log('The ' + mutation.attributeName + ' attribute was modified.');\n    }\n  }\n};\n\n// Create an observer instance linked to the callback function\nconst observer = new MutationObserver(mutationCallback);\n\n// Dynamic components\nlet featureImageCardSet = []\nlet featureImageWrapSet = []\nlet featureImageSet     = []\nlet activeFeatureImage  = []\nlet renderFeatureImage  = []\n\nconst componentParse = (reinit) => {\n  // Universal components\n  featureImageWrapSet = []\n  featureImageSet     = []\n  activeFeatureImage  = []\n  renderFeatureImage  = []\n  featureImageCardSet = document.querySelectorAll(\".feature-set-content-wrap .feature-image.grid\")\n  for (let i = 0; i < featureImageCardSet.length; i++) {\n    // let imageWrap = featureImageCardSet[i].firstChild\n    featureImageWrapSet.push(featureImageCardSet[i].firstChild)\n    featureImageSet.push(featureImageCardSet[i].firstChild.querySelector('img'))\n    activeFeatureImage.push(false)\n    renderFeatureImage.push(undefined)\n  }\n}\n\n// Initation process\nconst initation = (reinit) => {\n  componentParse(reinit)\n}\n\n// Initation on page loaded\nwindow.onload = function() {\n  initation();\n}\n\n// Begin detect page changes\nobserver.observe(mutationNode, mutationConfig);\n\n// Static components\nlet hamburger = document.querySelector(\"header.header-mobile label.mobile-nav\")\n\nhamburger.addEventListener(\"click\", () => {\n  let bodyClass = document.body.classList\n  if (bodyClass.contains(\"is-noscroll\")) {\n    if (bodyClass.contains(\"nav-active\")) bodyClass.remove(\"nav-active\")\n  } else {\n    if (!bodyClass.contains(\"nav-active\")) bodyClass.add(\"nav-active\")\n  }\n})\n\n// Dynamic methods\n\nlet transformFeatureImage = (i) => {\n  let offsetTop    = featureImageCardSet[i].getBoundingClientRect().top\n  let offsetScreen = (offsetTop - window.innerHeight) * -1\n\n  let progress   = offsetScreen / (window.innerHeight)\n  let wrapTop    = featureImageWrapSet[i].offsetTop * -1\n  featureImageSet[i].style[\"transform\"] = \"translate(0,\" + (progress * wrapTop) + \"px)\"\n  renderFeatureImage[i] = requestAnimationFrame(() => {\n    transformFeatureImage(i)\n  })\n}\n\nlet trackFeatureImage = () => {\n  for (let i = 0; i < featureImageCardSet.length; i++) {\n    if (featureImageSet[i]) {\n      let offsetScreen = (featureImageCardSet[i].getBoundingClientRect().top - window.innerHeight) * -1\n      let nudge        = 200\n      let overScreen   = offsetScreen - featureImageCardSet[i].offsetHeight - nudge\n\n      if (offsetScreen > nudge*-1 && overScreen < window.innerHeight) {\n        if (activeFeatureImage[i] == false) {\n          activeFeatureImage[i] = true\n          renderFeatureImage[i] = requestAnimationFrame(() => {\n            transformFeatureImage(i)\n          })\n        }\n      } else {\n        if (activeFeatureImage[i] == true) {\n          activeFeatureImage[i] = false\n          cancelAnimationFrame(renderFeatureImage[i])\n        }\n      }\n    }\n  }\n}\n\nlet searchTrigger = document.querySelector('header.header-mobile .header-wrap a.search-icon')\n\nsearchTrigger.addEventListener(\"click\", () => {\n  setTimeout( () => {\n    let searchModal = document.querySelector('.header-section .search-modal')\n    let searchInput = document.querySelector('.header-section .search-modal__header .search-group input')\n    if (searchInput) {\n      // console.log(searchInput)\n      if (searchInput.classList.contains(\"empty\")) {\n        if (!searchModal.classList.contains(\"empty_input\")) searchModal.classList.add(\"empty_input\")\n      }\n      // let searchTimeout = false\n      searchInput.addEventListener(\"input\", (e) => {\n        let searchKeywords = searchInput.value.trim()\n        let noResult       = searchModal.querySelector(\".search-modal__no-result\")\n        // clearTimeout(searchTimeout)\n        // if (!searchModal.classList.contains(\"inputing\")) searchModal.classList.add(\"inputing\")\n        if (noResult) {\n          if (!noResult.classList.contains(\"inputing\")) noResult.classList.add(\"inputing\")\n        }\n        if (searchKeywords.length == 0 || searchKeywords == \"\") {\n          if (!searchModal.classList.contains(\"empty_input\")) searchModal.classList.add(\"empty_input\")\n        } else {\n          if (searchModal.classList.contains(\"empty_input\")) searchModal.classList.remove(\"empty_input\")\n        }\n        // searchTimeout = setTimeout( () => {\n        //   if (searchModal.classList.contains(\"inputing\")) searchModal.classList.remove(\"inputing\")\n        // },200)\n      })\n    }\n  },150)\n})\n\ndocument.addEventListener(\"scroll\", () => {\n\n  trackFeatureImage()\n\n})"]}