{"version":3,"sources":["scripts.js"],"names":["mutationNode","document","getElementsByTagName","mutationConfig","attributes","childList","subtree","mutationCallback","mutationsList","observer","mutation","type","initation","setTimeout","MutationObserver","pageBody","featureImageCardSet","featureImageWrapSet","featureImageSet","activeFeatureImage","renderFeatureImage","searchTrigger","searchServed","hamburger","hamburgerServed","awkwardLoad","clickServe","element","trigger","callback","addEventListener","componentParse","reinit","disconnect","observe","querySelector","searchClick","hamburgerTrigger","querySelectorAll","i","length","push","firstChild","undefined","footer_links","n","link_text","textContent","includes","setAttribute","replace","Element","classList","contains","body","add","remove","bodyTemp","cfgTemp","bodyClass","transformFeatureImage","offsetTop","getBoundingClientRect","top","offsetScreen","window","innerHeight","progress","wrapTop","style","requestAnimationFrame","trackFeatureImage","nudge","overScreen","offsetHeight","cancelAnimationFrame","searchModal","searchInput","e","searchKeywords","value","trim","noResult"],"mappings":"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","sourcesContent":["// Mutation object creation\r\nlet mutationNode     = document.getElementsByTagName('TITLE')[0]\r\nconst mutationConfig = { attributes: true, childList: true, subtree: true }\r\n\r\n// Callback function to execute when mutations are observed\r\nconst mutationCallback = function(mutationsList, observer) {\r\n  // Use traditional 'for loops' for IE 11\r\n  for(let mutation of mutationsList) {\r\n    if (mutation.type === 'childList') {\r\n      //console.log('A child node has been added or removed.');\r\n      initation(true)\r\n      setTimeout(initation, 2000)\r\n    }\r\n    else if (mutation.type === 'attributes') {\r\n      //console.log('The ' + mutation.attributeName + ' attribute was modified.');\r\n    }\r\n  }\r\n};\r\n\r\n// Create an observer instance linked to the callback function\r\nconst observer = new MutationObserver(mutationCallback);\r\n// Dynamic components\r\nlet pageBody = false\r\nlet featureImageCardSet = []\r\nlet featureImageWrapSet = []\r\nlet featureImageSet     = []\r\nlet activeFeatureImage  = []\r\nlet renderFeatureImage  = []\r\nlet searchTrigger       = false\r\nlet searchServed        = false\r\nlet hamburger           = false\r\nlet hamburgerServed     = false\r\nlet awkwardLoad         = false\r\n\r\nconst clickServe = (element, trigger, callback) => {\r\n  if (element) {\r\n    if (trigger == false) {\r\n      element.addEventListener(\"click\", callback)\r\n      return true\r\n    }\r\n  } else {\r\n    return false\r\n  }\r\n  return false\r\n}\r\n\r\nconst componentParse = (reinit) => {\r\n  if (awkwardLoad) {\r\n    mutationNode = document.getElementsByTagName('TITLE')[0]\r\n    if (mutationNode) {\r\n      observer.disconnect()\r\n      observer.observe(mutationNode, mutationConfig)\r\n      awkwardLoad = false\r\n    } else {\r\n      awkwardLoad = true\r\n    }\r\n  }\r\n  // Universal components\r\n  pageBody = document.querySelector(\".default-layout > main.main-content\") || false\r\n  // pageBody  = storeBody.firstChild\r\n\r\n  searchTrigger       = document.querySelector('header.header-mobile .header-wrap a.search-icon')\r\n  hamburger           = document.querySelector(\"header.header-mobile label.mobile-nav\")\r\n  searchServed        = clickServe(searchTrigger, searchServed, searchClick)\r\n  hamburgerServed     = clickServe(hamburger, hamburgerServed, hamburgerTrigger)\r\n\r\n  featureImageWrapSet = []\r\n  featureImageSet     = []\r\n  activeFeatureImage  = []\r\n  renderFeatureImage  = []\r\n  featureImageCardSet = document.querySelectorAll(\".feature-set-content-wrap .feature-image.grid\")\r\n  for (let i = 0; i < featureImageCardSet.length; i++) {\r\n    // let imageWrap = featureImageCardSet[i].firstChild\r\n    featureImageWrapSet.push(featureImageCardSet[i].firstChild)\r\n    featureImageSet.push(featureImageCardSet[i].firstChild.querySelector('img'))\r\n    activeFeatureImage.push(false)\r\n    renderFeatureImage.push(undefined)\r\n  }\r\n\r\n  let footer_links = document.querySelectorAll('.footer_link a[href*=\"/policies/\"]')\r\n  for (let n = 0; n<footer_links.length; n++) {\r\n    let link_text = footer_links[n].textContent\r\n\r\n    if (link_text.includes(\" policy\")) {\r\n      footer_links[n].setAttribute(\"replace-text\", link_text.replace(\" policy\", \"\"))\r\n    }\r\n  }\r\n  \r\n  if (pageBody instanceof Element) {\r\n    if (pageBody.firstChild) {\r\n      if (pageBody.firstChild.classList.contains(\"product-template\")) {\r\n        if (!document.body.classList.contains(\"product-details-page\")) document.body.classList.add(\"product-details-page\")\r\n      } else {\r\n        if (document.body.classList.contains(\"product-details-page\")) document.body.classList.remove(\"product-details-page\")\r\n      }\r\n    } else {\r\n      if (document.body.classList.contains(\"product-details-page\")) document.body.classList.remove(\"product-details-page\")\r\n    }\r\n  }\r\n}\r\n\r\n// Initation process\r\nconst initation = (reinit=false) => {\r\n  componentParse(reinit)\r\n}\r\n\r\n// Begin detect page changes\r\nif (mutationNode) {\r\n  observer.observe(mutationNode, mutationConfig)\r\n} else {\r\n  // Initation on page loaded\r\n  awkwardLoad  = true\r\n  let bodyTemp = document.querySelector(\"#app\")\r\n  let cfgTemp  = { attributes: true, childList: true, subtree: false }\r\n  observer.observe(bodyTemp, cfgTemp)\r\n}\r\n\r\n// Static components\r\nconst hamburgerTrigger = () => {\r\n  let bodyClass = document.body.classList\r\n  if (bodyClass.contains(\"is-noscroll\")) {\r\n    if (!bodyClass.contains(\"nav-active\")) bodyClass.add(\"nav-active\")\r\n  } else {\r\n    if (bodyClass.contains(\"nav-active\")) bodyClass.remove(\"nav-active\")\r\n  }\r\n}\r\n\r\n// Dynamic methods\r\n\r\nlet transformFeatureImage = (i) => {\r\n  let offsetTop    = featureImageCardSet[i].getBoundingClientRect().top\r\n  let offsetScreen = (offsetTop - window.innerHeight) * -1\r\n\r\n  let progress   = offsetScreen / (window.innerHeight)\r\n  let wrapTop    = featureImageWrapSet[i].offsetTop * -1\r\n  featureImageSet[i].style[\"transform\"] = \"translate(0,\" + (progress * wrapTop) + \"px)\"\r\n  renderFeatureImage[i] = requestAnimationFrame(() => {\r\n    transformFeatureImage(i)\r\n  })\r\n}\r\n\r\nlet trackFeatureImage = () => {\r\n  for (let i = 0; i < featureImageCardSet.length; i++) {\r\n    if (featureImageSet[i]) {\r\n      let offsetScreen = (featureImageCardSet[i].getBoundingClientRect().top - window.innerHeight) * -1\r\n      let nudge        = 200\r\n      let overScreen   = offsetScreen - featureImageCardSet[i].offsetHeight - nudge\r\n\r\n      if (offsetScreen > nudge*-1 && overScreen < window.innerHeight) {\r\n        if (activeFeatureImage[i] == false) {\r\n          activeFeatureImage[i] = true\r\n          renderFeatureImage[i] = requestAnimationFrame(() => {\r\n            transformFeatureImage(i)\r\n          })\r\n        }\r\n      } else {\r\n        if (activeFeatureImage[i] == true) {\r\n          activeFeatureImage[i] = false\r\n          cancelAnimationFrame(renderFeatureImage[i])\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst searchClick = () => {\r\n  setTimeout( () => {\r\n    let searchModal = document.querySelector('.header-section .search-modal')\r\n    let searchInput = document.querySelector('.header-section .search-modal__header .search-group input')\r\n    if (searchInput) {\r\n      // console.log(searchInput)\r\n      if (searchInput.classList.contains(\"empty\")) {\r\n        if (!searchModal.classList.contains(\"empty_input\")) searchModal.classList.add(\"empty_input\")\r\n      }\r\n      // let searchTimeout = false\r\n      searchInput.addEventListener(\"input\", (e) => {\r\n        let searchKeywords = searchInput.value.trim()\r\n        let noResult       = searchModal.querySelector(\".search-modal__no-result\")\r\n        // clearTimeout(searchTimeout)\r\n        // if (!searchModal.classList.contains(\"inputing\")) searchModal.classList.add(\"inputing\")\r\n        if (noResult) {\r\n          if (!noResult.classList.contains(\"inputing\")) noResult.classList.add(\"inputing\")\r\n        }\r\n        if (searchKeywords.length == 0 || searchKeywords == \"\") {\r\n          if (!searchModal.classList.contains(\"empty_input\")) searchModal.classList.add(\"empty_input\")\r\n        } else {\r\n          if (searchModal.classList.contains(\"empty_input\")) searchModal.classList.remove(\"empty_input\")\r\n        }\r\n      })\r\n    }\r\n  },150)\r\n}\r\n\r\ndocument.addEventListener(\"scroll\", () => {\r\n\r\n  trackFeatureImage()\r\n\r\n})"]}