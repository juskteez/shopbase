{"version":3,"sources":["scripts.js"],"names":["hamburger","document","querySelector","addEventListener","bodyClass","body","classList","contains","remove","add","featureImageCardSet","featureImageWrapSet","featureImageSet","activeFeatureImage","renderFeatureImage","componentParse","page","update","querySelectorAll","i","length","push","firstChild","undefined","transformFeatureImage","offsetTop","getBoundingClientRect","top","offsetScreen","window","innerHeight","progress","wrapTop","style","requestAnimationFrame","trackFeatureImage","nudge","overScreen","offsetHeight","cancelAnimationFrame"],"mappings":"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","sourcesContent":["// Static components\nlet hamburger = document.querySelector(\"header.header-mobile label.mobile-nav\")\n\nhamburger.addEventListener(\"click\", () => {\n  let bodyClass = document.body.classList\n  if (bodyClass.contains(\"is-noscroll\")) {\n    if (bodyClass.contains(\"nav-active\")) bodyClass.remove(\"nav-active\")\n  } else {\n    if (!bodyClass.contains(\"nav-active\")) bodyClass.add(\"nav-active\")\n  }\n})\n\n// Dynamic components\nlet featureImageCardSet = []\nlet featureImageWrapSet = []\nlet featureImageSet     = []\nlet activeFeatureImage  = []\nlet renderFeatureImage  = []\n\nconst componentParse = (page=\"\", update=false) => {\n  // Universal components\n  featureImageCardSet = []\n  featureImageWrapSet = []\n  featureImageSet     = []\n  activeFeatureImage  = []\n  renderFeatureImage  = []\n  featureImageCardSet = document.querySelectorAll(\".feature-set-content-wrap .feature-image.grid\")\n  for (let i = 0; i < featureImageCardSet.length; i++) {\n    // let imageWrap = featureImageCardSet[i].firstChild\n    featureImageWrapSet.push(featureImageCardSet[i].firstChild)\n    featureImageSet.push(featureImageCardSet[i].firstChild.querySelector('img'))\n    activeFeatureImage.push(false)\n    renderFeatureImage.push(undefined)\n  }\n}\n\ncomponentParse()\n\nlet transformFeatureImage = (i) => {\n  let offsetTop    = featureImageCardSet[i].getBoundingClientRect().top\n  let offsetScreen = (offsetTop - window.innerHeight) * -1\n\n  let progress   = offsetScreen / (window.innerHeight)\n  let wrapTop    = featureImageWrapSet[i].offsetTop * -1\n  featureImageSet[i].style[\"transform\"] = \"translate(0,\" + (progress * wrapTop) + \"px)\"\n  renderFeatureImage[i] = requestAnimationFrame(() => {\n    transformFeatureImage(i)\n  })\n}\n\nlet trackFeatureImage = () => {\n  for (let i = 0; i < featureImageCardSet.length; i++) {\n    if (featureImageSet[i]) {\n      let offsetTop    = featureImageCardSet[i].getBoundingClientRect().top\n      let offsetScreen = (offsetTop - window.innerHeight) * -1\n      let nudge        = 120\n      let overScreen   = offsetScreen - featureImageCardSet[i].offsetHeight - nudge\n\n      if (offsetScreen > nudge*-1 && overScreen < window.innerHeight) {\n        if (activeFeatureImage[i] == false) {\n          activeFeatureImage[i] = true\n          // console.log(\"+ + FeatureImage\", i)\n          renderFeatureImage[i] = requestAnimationFrame(() => {\n            transformFeatureImage(i)\n          })\n        }\n      } else {\n        if (activeFeatureImage[i] == true) {\n          activeFeatureImage[i] = false\n          // console.log(\" -  FeatureImage\", i)\n          cancelAnimationFrame(renderFeatureImage[i])\n        }\n      }\n    }\n  }\n  // featureImagesTransform = requestAnimationFrame(transformFeatureImage)\n}\n\ndocument.addEventListener(\"scroll\", () => {\n\n  trackFeatureImage()\n})"]}