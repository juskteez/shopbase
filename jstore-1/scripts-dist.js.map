{"version":3,"sources":["scripts.js"],"names":["mutationNode","document","getElementsByTagName","mutationConfig","attributes","childList","subtree","mutationCallback","mutationsList","observer","console","log","mutation","type","initation","setTimeout","MutationObserver","pageBody","featureImageCardSet","featureImageWrapSet","featureImageSet","activeFeatureImage","renderFeatureImage","searchTrigger","searchServed","hamburger","hamburgerServed","clickServe","element","trigger","callback","addEventListener","componentParse","reinit","querySelector","querySelectorAll","searchClick","hamburgerTrigger","i","length","push","firstChild","undefined","footer_links","n","link_text","textContent","includes","setAttribute","replace","classList","contains","body","add","remove","observe","bodyClass","transformFeatureImage","offsetTop","getBoundingClientRect","top","offsetScreen","window","innerHeight","progress","wrapTop","style","requestAnimationFrame","trackFeatureImage","nudge","overScreen","offsetHeight","cancelAnimationFrame","searchModal","searchInput","e","searchKeywords","value","trim","noResult"],"mappings":"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","sourcesContent":["// Mutation object creation\r\nconst mutationNode   = document.getElementsByTagName('TITLE')[0];\r\nconst mutationConfig = { attributes: true, childList: true, subtree: true };\r\n\r\n// Callback function to execute when mutations are observed\r\nconst mutationCallback = function(mutationsList, observer) {\r\n  // Use traditional 'for loops' for IE 11\r\n  console.log(\"Mutation Callback\")\r\n  for(let mutation of mutationsList) {\r\n    if (mutation.type === 'childList') {\r\n      //console.log('A child node has been added or removed.');\r\n      initation(true)\r\n      setTimeout(initation, 2000)\r\n    }\r\n    else if (mutation.type === 'attributes') {\r\n      //console.log('The ' + mutation.attributeName + ' attribute was modified.');\r\n    }\r\n  }\r\n};\r\n\r\n// Create an observer instance linked to the callback function\r\nconst observer = new MutationObserver(mutationCallback);\r\n// Dynamic components\r\nlet pageBody = false\r\nlet featureImageCardSet = []\r\nlet featureImageWrapSet = []\r\nlet featureImageSet     = []\r\nlet activeFeatureImage  = []\r\nlet renderFeatureImage  = []\r\nlet searchTrigger       = false\r\nlet searchServed        = false\r\nlet hamburger           = false\r\nlet hamburgerServed     = false\r\n\r\nconst clickServe = (element, trigger, callback) => {\r\n  if (element) {\r\n    if (trigger == false) {\r\n      element.addEventListener(\"click\", callback)\r\n      return true\r\n    }\r\n  } else {\r\n    return false\r\n  }\r\n  return false\r\n}\r\n\r\nconst componentParse = (reinit) => {\r\n  console.log(\"Virtual reload\")\r\n  // Universal components\r\n  pageBody = document.querySelector(\".default-layout > main.main-content\") || false\r\n  // pageBody  = storeBody.firstChild\r\n  featureImageWrapSet = []\r\n  featureImageSet     = []\r\n  activeFeatureImage  = []\r\n  renderFeatureImage  = []\r\n  searchTrigger       = document.querySelector('header.header-mobile .header-wrap a.search-icon')\r\n  hamburger           = document.querySelector(\"header.header-mobile label.mobile-nav\")\r\n  featureImageCardSet = document.querySelectorAll(\".feature-set-content-wrap .feature-image.grid\")\r\n  searchServed        = clickServe(searchTrigger, searchServed, searchClick)\r\n  hamburgerServed     = clickServe(hamburger, hamburgerServed, hamburgerTrigger)\r\n  for (let i = 0; i < featureImageCardSet.length; i++) {\r\n    // let imageWrap = featureImageCardSet[i].firstChild\r\n    featureImageWrapSet.push(featureImageCardSet[i].firstChild)\r\n    featureImageSet.push(featureImageCardSet[i].firstChild.querySelector('img'))\r\n    activeFeatureImage.push(false)\r\n    renderFeatureImage.push(undefined)\r\n  }\r\n\r\n  let footer_links = document.querySelectorAll('.footer_link a[href*=\"/policies/\"]')\r\n  console.log(footer_links)\r\n  for (let n = 0; n<footer_links.length; n++) {\r\n    let link_text = footer_links[n].textContent\r\n    console.log(\"replace footer texts\")\r\n\r\n    if (link_text.includes(\" policy\")) {\r\n      footer_links[n].setAttribute(\"replace-text\", link_text.replace(\" policy\", \"\"))\r\n    }\r\n  }\r\n  \r\n  if (pageBody) {\r\n    if (pageBody.firstChild.classList.contains(\"product-template\")) {\r\n      if (!document.body.classList.contains(\"product-details-page\")) document.body.classList.add(\"product-details-page\")\r\n    } else {\r\n      if (document.body.classList.contains(\"product-details-page\")) document.body.classList.remove(\"product-details-page\")\r\n    }\r\n  }\r\n}\r\n\r\n// Initation process\r\nconst initation = (reinit=false) => {\r\n  componentParse(reinit)\r\n}\r\n\r\n// Initation on page loaded\r\n// window.onload = function() {\r\n//   initation();\r\n// }\r\n\r\n// Begin detect page changes\r\nobserver.observe(mutationNode, mutationConfig);\r\n\r\n// Static components\r\nconst hamburgerTrigger = () => {\r\n  let bodyClass = document.body.classList\r\n  if (bodyClass.contains(\"is-noscroll\")) {\r\n    if (!bodyClass.contains(\"nav-active\")) bodyClass.add(\"nav-active\")\r\n  } else {\r\n    if (bodyClass.contains(\"nav-active\")) bodyClass.remove(\"nav-active\")\r\n  }\r\n}\r\n\r\n// Dynamic methods\r\n\r\nlet transformFeatureImage = (i) => {\r\n  let offsetTop    = featureImageCardSet[i].getBoundingClientRect().top\r\n  let offsetScreen = (offsetTop - window.innerHeight) * -1\r\n\r\n  let progress   = offsetScreen / (window.innerHeight)\r\n  let wrapTop    = featureImageWrapSet[i].offsetTop * -1\r\n  featureImageSet[i].style[\"transform\"] = \"translate(0,\" + (progress * wrapTop) + \"px)\"\r\n  renderFeatureImage[i] = requestAnimationFrame(() => {\r\n    transformFeatureImage(i)\r\n  })\r\n}\r\n\r\nlet trackFeatureImage = () => {\r\n  for (let i = 0; i < featureImageCardSet.length; i++) {\r\n    if (featureImageSet[i]) {\r\n      let offsetScreen = (featureImageCardSet[i].getBoundingClientRect().top - window.innerHeight) * -1\r\n      let nudge        = 200\r\n      let overScreen   = offsetScreen - featureImageCardSet[i].offsetHeight - nudge\r\n\r\n      if (offsetScreen > nudge*-1 && overScreen < window.innerHeight) {\r\n        if (activeFeatureImage[i] == false) {\r\n          activeFeatureImage[i] = true\r\n          renderFeatureImage[i] = requestAnimationFrame(() => {\r\n            transformFeatureImage(i)\r\n          })\r\n        }\r\n      } else {\r\n        if (activeFeatureImage[i] == true) {\r\n          activeFeatureImage[i] = false\r\n          cancelAnimationFrame(renderFeatureImage[i])\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst searchClick = () => {\r\n  setTimeout( () => {\r\n    let searchModal = document.querySelector('.header-section .search-modal')\r\n    let searchInput = document.querySelector('.header-section .search-modal__header .search-group input')\r\n    if (searchInput) {\r\n      // console.log(searchInput)\r\n      if (searchInput.classList.contains(\"empty\")) {\r\n        if (!searchModal.classList.contains(\"empty_input\")) searchModal.classList.add(\"empty_input\")\r\n      }\r\n      // let searchTimeout = false\r\n      searchInput.addEventListener(\"input\", (e) => {\r\n        let searchKeywords = searchInput.value.trim()\r\n        let noResult       = searchModal.querySelector(\".search-modal__no-result\")\r\n        // clearTimeout(searchTimeout)\r\n        // if (!searchModal.classList.contains(\"inputing\")) searchModal.classList.add(\"inputing\")\r\n        if (noResult) {\r\n          if (!noResult.classList.contains(\"inputing\")) noResult.classList.add(\"inputing\")\r\n        }\r\n        if (searchKeywords.length == 0 || searchKeywords == \"\") {\r\n          if (!searchModal.classList.contains(\"empty_input\")) searchModal.classList.add(\"empty_input\")\r\n        } else {\r\n          if (searchModal.classList.contains(\"empty_input\")) searchModal.classList.remove(\"empty_input\")\r\n        }\r\n      })\r\n    }\r\n  },150)\r\n}\r\n\r\ndocument.addEventListener(\"scroll\", () => {\r\n\r\n  trackFeatureImage()\r\n\r\n})"]}